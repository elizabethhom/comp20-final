<!DOCTYPE html>

<html>
	<head>
		<title>Digital Recipe Book Database</title>
		<link rel="stylesheet" href="recipe-book.css">
		<link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
	</head>

	<body>
		<div class="recipeInput-image">
			<h1 style="text-align: center;">Create a Recipe</h1>
            <ul class="nav-content" style="background-color: rgba(255, 255, 150, .5);">
                <li class="nav-li"><a href="index.html">HOME</a></li>&nbsp;&nbsp;•&nbsp;&nbsp;
                <li class="nav-li"><a href="recipe-book.html">CREATE</a></li>&nbsp;&nbsp;•&nbsp;&nbsp;
                <li class="nav-li"><a href="search.html">SEARCH</a></li>&nbsp;&nbsp;•&nbsp;&nbsp;
                <li class="nav-li"><a href="about.html">ABOUT US</a></li>&nbsp;&nbsp;•&nbsp;
                <li class="nav-li"><a href="contact.html">CONTACT</a></li>
            </ul>

			<form action="/recipes" method="POST" class="recipeInput">
				<div id='recipeInputHeader'>
					<label><h3>Recipe Name: </h3> </label><input type='text' required="true" placeholder="Mashed Potatoes" name='recipeName'><br />
					<label> Time Needed: </label><input type='number' name='hours' value="0">hrs <input type="number" name='minutes' value='0'>min<br />
				</div>
				<!--Utensils needed: (utensil)-->
				<div id="inputUtensils">
					Utensils Needed: <input type="input" placeholder="whisk" name='utensils'>
				</div>
				<input type="button" value="Add another utensil" onclick="addInputField('inputUtensils', 'input', 'text', 'utensils', 'whisk')">
				<div id="inputIngredients">
					Ingredients: <input type="number" name='quanIngredient' value="0"><script language="javascript">makeSelect("units", "inputIngredients");</script> <input type="input" placeholder="flour" name='ingredients'>
				</div>
				<!--TODO:  multiple inputs function does not work yet-->
				<input type="button" value="Add another ingredient"  onclick="addMultipleFields('inputIngredients', 'quanIngredient', 'units', 'ingredients')">
				<div id="inputInstructions">
					Instructions: 
					<textarea type='text' name='instructions' value='Step 1'></textarea>
				</div>
				<input type="button" value="Add another step" onclick="addInputField('inputInstructions', 'textarea', '', 'instructions', '')">
				<input type='submit' value="Submit">
			</form>
			<script language="javascript">
				var units = ['cups', 'tsp', 'tbsp', 'oz', 'lb', 'g', 'item(s)'];
				var numIngredients = 1;

				//adapted from the "Jade Delight" provided code
				function makeSelect(name, divId) {
					div = document.getElementById(divId);
					select = document.createElement("select");

					select.name = name;
					select.size = 1;

					for (j=0; j<units.length; j++) {
						option = document.createElement("option");
						option.value= units[j]
						option.innerText = units[j];
						select.appendChild(option);
					}
					div.appendChild(select);
				}

				function addInputField(divId, fieldType, inputType, fieldName, fieldPlaceholder) {
					alert("add input field called");
					div = document.getElementById(divId);
	
					field = document.createElement(fieldType);
					field.name = fieldName;
					field.type = inputType;
					field.placeholder = fieldPlaceholder;
					
					div.appendChild(field);
				}

				function addMultipleFields(divId, fieldName1, fieldName2, fieldName3) {
					div = document.getElementById(divId);
					oneIngredient = document.createElement("div");

					var newDivID = "ingredient" + numIngredients;
					oneIngredient.id = newDivID;

					addInputField(newDivID, 'number', fieldName1, '0');
					//makeSelect(fieldName2, newDivID);
					//addInputField(newDivID, 'text', fieldName3, 'sugar');
					numIngredients++;

					div.appendChild(oneIngredient);
				}
			</script>
		</div>
	</body>
</html>
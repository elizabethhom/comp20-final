<!DOCTYPE html>

<html>
	<head>
		<title>Digital Recipe Book Database</title>
		<link rel="stylesheet" href="recipe-book.css">
		<link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
	</head>

	<body>
		<div class="recipeInput-image">
			<h1 style="text-align: center;">Create a Recipe</h1>
            <ul class="nav-content" style="background-color: rgba(255, 255, 150, .5);">
                <li class="nav-li"><a href="index.html">HOME</a></li>&nbsp;&nbsp;•&nbsp;&nbsp;
                <li class="nav-li"><a href="recipe-book.html">CREATE</a></li>&nbsp;&nbsp;•&nbsp;&nbsp;
                <li class="nav-li"><a href="search.html">SEARCH</a></li>&nbsp;&nbsp;•&nbsp;&nbsp;
                <li class="nav-li"><a href="about.html">ABOUT US</a></li>&nbsp;&nbsp;•&nbsp;
                <li class="nav-li"><a href="contact.html">CONTACT</a></li>
            </ul>

			<form action="/recipes" method="POST" class="recipeInput">
				<ul id='recipeForm'>
					<!--Recipe name-->
					<li>
						<label>Recipe Name:</label><input type='text' required="true" placeholder="Mashed Potatoes" name='recipeName'><br />
					</li>
					<!--Time (hours & minutes)-->
					<li>
						<label> Time Needed: </label><input type='number' name='hours' value="0">hrs <input type="number" name='minutes' value='0'>min
					</li>
					<!--Utensils needed (extendable array)-->
					<li>
						<ul id="inputUtensils">Utensils  Needed:
							<li><input type="input" placeholder="whisk" name='utensils'></li>
						</ul>
						<input type="button" value="Add another utensil" onclick="addInputField('inputUtensils', 'input', 'text', 'utensils', 'whisk')">
					</li>
					<li>
						<ul id="inputIngredients">Ingredients: 
							<li>
								<input type="number" name='quanIngredient' value="0">
								<select name="units">
									<option value="cup">cups</option>
									<option value="oz">oz</option>
									<option value="tsp">tsp</option>
									<option value="tbsp">tbsp</option>
									<option value="lb">lb</option>
									<option value="g">g</option>
									<option value="item(s)">item(s)</option>
								</select> 
								<input type="input" placeholder="flour" name='ingredients'>
							</li>
						</ul>
						<input type="button" value="Add another ingredient"  onclick="addMultipleFields('inputIngredients', 'quanIngredient', 'units', 'ingredients')">
					</li>
					<li>
						<ul id="inputInstructions">Instructions: 
							<li><textarea type='text' name='instructions' value='Step 1'></textarea></li>
						</ul>
						<input type="button" value="Add another step" onclick="addInputField('inputInstructions', 'textarea', '', 'instructions', '')">
					</li>
				</ul>
				<input type='submit' value="Submit">
			</form>
			<script language="javascript">
				var units = ['cups', 'tsp', 'tbsp', 'oz', 'lb', 'g', 'item(s)'];
				var numIngredients = 1;

				//adapted from the "Jade Delight" provided code
				function makeSelect(name, ulId) {
					ul = document.getElementById(ulId);
					li = document.createElement("li");
					select = document.createElement("select");

					select.name = name;
					select.size = 1;

					for (j=0; j<units.length; j++) {
						option = document.createElement("option");
						option.value= units[j]
						option.innerText = units[j];
						select.appendChild(option);
					}
					li.appendChild(select)
					ul.appendChild(li);
				}

				function addInputField(ulId, fieldType, inputType, fieldName, fieldPlaceholder) {
					alert("add input field called");
					ul = document.getElementById(ulId);
					li = document.createElement("li");
	
					field = document.createElement(fieldType);
					field.name = fieldName;
					field.type = inputType;
					field.placeholder = fieldPlaceholder;
					
					li.appendChild(field);
					ul.appendChild(li);
				}

				function addMultipleFields(divId, fieldName1, fieldName2, fieldName3) {
					ul = document.getElementById(ulId);
					oneIngredient = document.createElement("div");

					var newDivID = "ingredient" + numIngredients;
					oneIngredient.id = newDivID;

					addInputField(newDivID, 'number', fieldName1, '0');
					makeSelect(fieldName2, newDivID);
					addInputField(newDivID, 'text', fieldName3, 'sugar');
					numIngredients++;

					div.appendChild(oneIngredient);
				}
			</script>
		</div>
	</body>
</html>